<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>canvas时钟</title>
<style type="text/css">
body{ background:#000000;}
#oc{
	background:white;
	}
span{ color:white;}
</style>
<script type="text/javascript">
	window.onload=function(){
	var oC=document.getElementById("oc");
	var Gc=oC.getContext("2d");
	var x=200;
	var y=200;
	var r=150;
	
	
	
	function toDraw(){
		var tdate=new Date();
	var thour=tdate.getHours();
	var tmin=tdate.getMinutes();
	var tsec=tdate.getSeconds();
		Gc.clearRect(0,0,oC.width,oC.height);
		
		
		Gc.beginPath();
		for(var i=0;i<60;i++){
	        Gc.moveTo(x,y);
	        Gc.arc(x,y,r,6*i*Math.PI/180,6*(i+1)*Math.PI/180,false);
	        Gc.stroke();
			}//画分刻度
	
		Gc.closePath();
		
		Gc.beginPath();
		Gc.fillStyle="white";
		Gc.moveTo(x,y);
		Gc.arc(x,y,r*19/20,0,360*Math.PI/180,false);
		Gc.closePath();
		Gc.fill();//擦除分的多余刻度
		
		
		Gc.beginPath();
		for(var i=0;i<12;i++){
	        Gc.moveTo(x,y);
	        Gc.arc(x,y,r,30*i*Math.PI/180,30*(i+1)*Math.PI/180,false);
	        Gc.stroke();
			}//画时刻度
		
		Gc.beginPath();
		Gc.fillStyle="white";
		Gc.moveTo(x,y);
		Gc.arc(x,y,r*17/20,0,360*Math.PI/180,false);
		Gc.closePath();
		Gc.fill();//擦除时度的多余部分
		
	
		
		Gc.beginPath();
		Gc.lineWidth=5;
		Gc.moveTo(200,200);
		Gc.arc(x,y,r*13/20,(thour*30-90+tmin/2)*Math.PI/180,(thour*30+tmin/2-90)*Math.PI/180,false);
		
		Gc.closePath();
		Gc.stroke();//画时针
		
		
		Gc.beginPath();
		Gc.lineWidth=3;
		Gc.moveTo(x,y);
		Gc.arc(x,y,r*15/20,(tmin*6-90)*Math.PI/180,(tmin*6-90)*Math.PI/180,false);
		Gc.closePath();
		Gc.stroke();//画分针
		
		Gc.beginPath();
		Gc.lineWidth=1;
		Gc.moveTo(x,y);
		Gc.arc(x,y,r*17/20,(tsec*6-90)*Math.PI/180,(tsec*6-90)*Math.PI/180,false);
		Gc.closePath();
		Gc.stroke();//画秒针
		
		}
	setInterval(toDraw,1000);
	toDraw();
	
}
</script>
</head>

<body>
<canvas id="oc" width=400 height=400>
<span>不支持canvas浏览器</span>
</canvas>
</body>
</html>
